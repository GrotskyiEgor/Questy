{% extends "base.html" %}

{% block title %}
    New quiz
{% endblock %}

{% block links %}
    <link rel = "stylesheet" href = "{{ url_for('test_app.static', filename='css/edit_question.css') }}">
{% endblock %}

{% block content %}
    <form action="" method="post" class="edit-question-form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <h1>Редагувати питання</h1>
        <h2>{{ question_text }}</h2>
        {% if quiz.question_type == "choice" %}
            {% for number in range(count_answers) %}
                
                {% if list_answers[number] != correct_answer %}
                    <input type="text" name="answer{{ number }}" placeholder="Введіть нову відповідь" value="{{ list_answers[number] }}" class="incorrect-answer-p">

                {% else %}
                    <input type="text" name="correct_answer" placeholder="Введіть нову правильну відповідь" value="{{ list_answers[number] }}" class="correct-answer-p">
                
                {% endif %}
            {% endfor %}
        {% endif %}

        {% if quiz.question_type == "input" %}
            <input type="text" name="correct_answer" placeholder="Введіть нову правильну відповідь" value="{{ correct_answer }}" class="correct-answer-p">
        {% endif %}

        {% if quiz.question_type == "multiple_choice" %}
            {% for number in range(count_answers) %}
                {% if list_answers[number] in correct_answer %}
                    <input type="text" name="correct_answer{{ number }}" placeholder="Введіть нову правильну відповідь" value="{{ list_answers[number] }}" class="correct-answer-p">

                 {% else %}
                    <input type="text" name="answer{{ number }}" placeholder="Введіть нову відповідь" value="{{ list_answers[number] }}" class="incorrect-answer-p">

                {% endif %}
            {% endfor %}
        {% endif %}

        {% if quiz.question_type == "image" %}
            {% for number in range(count_answers) %}
                
                {% if list_answers[number] != correct_answer %}
                    <input type="text" name="answer{{ number }}" placeholder="Введіть нову відповідь" value="{{ list_answers[number] }}" class="incorrect-answer-p">

                {% else %}
                    <input type="text" name="correct_answer" placeholder="Введіть нову правильну відповідь" value="{{ list_answers[number] }}" class="correct-answer-p">
                
                {% endif %}
            {% endfor %}
        {% endif %}

        <button type="submit">Редагувати питання</button>
    </form>
{% endblock %}